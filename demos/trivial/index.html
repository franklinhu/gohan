<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Gohan Physics Engine - Trivial Demo</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js" type="text/javascript"></script>
        <script src="../../src/objects/objects.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                var objects = new Array();
                var canvas = $("#canvas")[0];

                function render() {
                    if (canvas.getContext) {
                        var context = canvas.getContext("2d");
                        gohan.init({canvas: canvas});

                        /* Set up objects */
                        var pos0 = new gohan.utils.Position2D(30, 40);
                        var pos1 = new gohan.utils.Position2D(100, 300);
                        var pos2 = new gohan.utils.Position2D(0, 400);
                        var vel0 = new gohan.utils.Velocity2D(7, 2);
                        var vel1 = new gohan.utils.Velocity2D(3, 7);
                        var vel2 = new gohan.utils.Velocity2D(5, 5);

                        c1 = new gohan.objects.Circle(pos0, vel0, context, 20);
                        gohan.canvas.objects.push(c1);
                        c2 = new gohan.objects.Circle(pos1, vel1, context, 20);
                        gohan.canvas.objects.push(c2);
                        c3 = new gohan.objects.Circle(pos2, vel2, context, 20);
                        gohan.canvas.objects.push(c3);

                        //r = new gohan.objects.Rectangle(pos, vel1, 50, 60, context, 0.14);  
                        //gohan.canvas.objects.push(r);

                        setInterval(gohan.draw, 15);
                    }
                }

                $("#canvas").click(function(e) {
                    if (canvas.getContext) {
                        var context = canvas.getContext("2d");
                        x = e.pageX - e.target.offsetLeft;
                        y = e.pageY - e.target.offsetTop;

                        pos = new gohan.utils.Position2D(x, y);
                        vel = new gohan.utils.Velocity2D(3, 3);
                        c = new gohan.objects.Circle(pos, vel, context, 20);
                        gohan.canvas.objects.push(c);
                    }
                });

                render();
            });

         </script>
    </head>

    <body>
        <canvas id="canvas" width="400" height="400"></canvas>
    </body>
</html>
